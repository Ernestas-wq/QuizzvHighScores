const finalScore=document.getElementById("finalScore"),winImages=Array.from(document.getElementsByClassName("win")),loseImage=document.getElementsByClassName("defeat"),finalMessage=document.getElementById("finalMessage");var saveScoreBtn=document.getElementById("saveScoreBtn"),username=document.getElementById("username");const mostRecentScore=10*localStorage.getItem("mostRecentScore"),highScoresScore=JSON.parse(localStorage.getItem("highScoresScore")),easyHighScores=JSON.parse(localStorage.getItem("easyHighScores"))||[],mediumHighScores=JSON.parse(localStorage.getItem("mediumHighScores"))||[],hardHighScores=JSON.parse(localStorage.getItem("hardHighScores"))||[];finalScore.innerHTML=`Final score: <span>${mostRecentScore}</span>`,mostRecentScore>=50?winImages.forEach(e=>{finalMessage.innerHTML="Not bad &#128170",e.classList.remove("hidden")}):(loseImage[0].classList.remove("hidden"),finalMessage.innerHTML="Better luck next time &#128012"),username.addEventListener("keyup",function(){saveScoreBtn.disabled=!username.value});const HIGH_SCORES_MAX=5;saveHighScore=(e=>{e.preventDefault();const s={name:username.value,score:mostRecentScore};"easy"==highScoresScore.difficulty?(easyHighScores.push(s),easyHighScores.sort((e,s)=>s.score-e.score),easyHighScores.splice(5),localStorage.setItem("easyHighScores",JSON.stringify(easyHighScores))):"medium"==highScoresScore.difficulty?(mediumHighScores.push(s),mediumHighScores.sort((e,s)=>s.score-e.score),mediumHighScores.splice(5),localStorage.setItem("mediumHighScores",JSON.stringify(mediumHighScores))):"hard"==highScoresScore.difficulty&&(hardHighScores.push(s),hardHighScores.sort((e,s)=>s.score-e.score),hardHighScores.splice(5),localStorage.setItem("hardHighScores",JSON.stringify(hardHighScores))),window.location.assign("/index.html")});